<!-- /**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */ -->
<html>

<head>
  <meta charset="utf-8">
  <script src="../../dist/tfjs-vis.umd.js"></script>
  <!-- <script src="./index.js"></script> -->

  <style>
    article {
      max-width: 960px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }

    script.show-script {
      display: block;
      max-width: 720px;
      background-color: floralwhite;
      font-family: "Lucida Console", Monaco, "Courier New", Courier, monospace;
      font-size: 12px;
      margin-left: -20px;
      white-space: pre;
    }
  </style>
</head>

<body>
  <article>
    <h1>tfjs-vis kitchen sink</h1>

    <section>
      <p>
        tfjs-vis is a small set of visualization utilities to make it easier to understand what is going on with your tfjs models.
        It is designed in a way to work along side regular web apps. This page is a testbed for the api.
      </p>
    </section>

    <section>
      <h2>Render Functions</h2>

      <h3>render.barchart(data, container, options)</h3>
      <div id='barchart-cont'></div>
      <script class='show-script'>
        const data = [
          { index: 0, value: 50 },
          { index: 1, value: 100 },
          { index: 2, value: 150 },
        ];

        // Render to visor
        const surface = tfvis.visor().surface({ name: 'Barchart', tab: 'Charts' });
        tfvis.render.barchart(data, surface, {});

        // Render to page
        const container = document.getElementById('barchart-cont');
        tfvis.render.barchart(data, container, {
          xLabel: 'my x axis',
          yLabel: 'values',
          width: 500,
          height: 250,
        });
      </script>

      <p>Re-rendering</p>

      <div id='barchart-bench'></div>
      <script class='show-script'>
        const genData = function () {
          return [
            { index: 0, value: (Math.random() * 50) + 10 },
            { index: 1, value: (Math.random() * 50) + 50 },
            { index: 2, value: (Math.random() * 50) + 100 },
          ];
        };

        async function timeStuff(numrenders) {
          console.time(`renderBarchart:${numrenders}`)
          for (let i = 0; i < numrenders; i++) {
            await tfvis.render.barchart(genData(), document.getElementById('barchart-bench'), {
              xLabel: 'my x axis',
              yLabel: 'values',
              width: 500,
              height: 250,
            });
          }
          console.timeEnd(`renderBarchart:${numrenders}`)
        }

        const numrenders = 500;
        timeStuff(numrenders);
      </script>
    </section>

  </article>

</body>

</html>
